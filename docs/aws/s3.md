---
sidebar_position: 3
title: S3 - Armazenamento de Objetos
description: Armazenamento escalÃ¡vel e durÃ¡vel para qualquer tipo de arquivo
---

# ğŸ“¦ S3 - Simple Storage Service

**S3** Ã© o serviÃ§o de armazenamento de objetos da AWS. Pense nele como um "disco infinito na nuvem" para guardar qualquer arquivo: fotos, vÃ­deos, documentos, backups, etc.

## ğŸ¤” O que Ã© armazenamento de objetos?

Diferente de um sistema de arquivos tradicional, S3 armazena **objetos** em **buckets**:

```
Sistema de Arquivos Tradicional:
/home/usuario/
â”œâ”€â”€ /documentos/
â”‚   â”œâ”€â”€ relatorio.pdf
â”‚   â””â”€â”€ projeto.docx
â””â”€â”€ /imagens/
    â”œâ”€â”€ foto1.jpg
    â””â”€â”€ foto2.png

S3 (Object Storage):
meu-bucket/
â”œâ”€â”€ documentos/relatorio.pdf
â”œâ”€â”€ documentos/projeto.docx
â”œâ”€â”€ imagens/foto1.jpg
â””â”€â”€ imagens/foto2.png

âš ï¸ NÃ£o sÃ£o "pastas reais", Ã© apenas chave (key)!
```

## ğŸ¯ CaracterÃ­sticas principais

### **Durabilidade 99.999999999%** (11 noves!)

```
De 1 milhÃ£o de arquivos, vocÃª perde 1 a cada 10.000 anos!
```

### **Escalabilidade ilimitada**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VocÃª pode armazenar:            â”‚
â”‚ â€¢ 1 objeto de 5TB               â”‚
â”‚ â€¢ 1 bilhÃ£o de objetos           â”‚
â”‚ â€¢ Exabytes de dados             â”‚
â”‚ â€¢ Sem limite teÃ³rico            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Acesso via URL**

```
https://s3.amazonaws.com/meu-bucket/imagens/foto.jpg
```

## ğŸ’¾ Estrutura bÃ¡sica

### **Bucket**

ContÃªiner para armazenar objetos. Precisa ter nome Ãºnico globalmente:

```
Regras de nomes:
âœ… meu-bucket-pessoal
âœ… 2024-backups-empresa
âŒ MeuBucket (MAIÃšSCULA)
âŒ meu_bucket (underscore)
âŒ meu.bucket (ponto no inÃ­cio/fim)
```

### **Objeto**

Arquivo em si. Definido por:

- **Key**: O "caminho" do arquivo
- **Value**: ConteÃºdo do arquivo
- **Metadata**: InformaÃ§Ãµes sobre o arquivo
- **Tags**: RÃ³tulos para organizaÃ§Ã£o

## ğŸ”’ Classes de armazenamento

S3 oferece diferentes classes para otimizar preÃ§o/performance:

### **S3 Standard** (PadrÃ£o)

Acesso frequente, alta performance:

```
LatÃªncia: Milissegundos
PreÃ§o: Mais caro/mÃªs
Use para: Websites, aplicaÃ§Ãµes, conteÃºdo ativo
```

### **S3 Standard-IA** (Infrequent Access)

Acesso infrequente, mas rÃ¡pido quando necessÃ¡rio:

```
PreÃ§o: 50% mais barato que Standard
Taxa de recuperaÃ§Ã£o: Pequena taxa por acesso
Use para: Backups mensais, logs antigos
```

### **S3 Intelligent-Tiering**

Mova automaticamente entre classes:

```
Dias 0-30:     S3 Standard (acesso ativo)
Dias 31-90:    S3 Standard-IA (acesso infrequente)
Dias 91+:      S3 Glacier (arquivo)

Quando acessar, volta para Standard!
```

### **S3 Glacier**

Arquivamento de longo prazo:

```
LatÃªncia: Horas ou dias
PreÃ§o: Muito barato
Use para: Arquivos legais, conformidade
```

## ğŸ’¾ Exemplo de uso via AWS CLI

```bash
# Criar bucket
aws s3 mb s3://meu-bucket-pessoal

# Upload de arquivo
aws s3 cp documento.pdf s3://meu-bucket-pessoal/documentos/

# Download de arquivo
aws s3 cp s3://meu-bucket-pessoal/documentos/documento.pdf ./

# Listar objetos
aws s3 ls s3://meu-bucket-pessoal/

# Sincronizar pasta (tipo Dropbox)
aws s3 sync ./local-backup s3://meu-bucket-pessoal/backups/

# Deletar arquivo
aws s3 rm s3://meu-bucket-pessoal/documentos/documento.pdf
```

## ğŸŒ Hospedagem de Website EstÃ¡tico

S3 pode servir um website estÃ¡tico diretamente:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Seu site estÃ¡tico        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ index.html               â”‚
â”‚ style.css                â”‚
â”‚ script.js                â”‚
â”‚ images/                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â†’ Upload para S3
              â”‚
         S3 habilita
         "Static Website"
              â”‚
         https://meu-site.s3.amazonaws.com
```

## ğŸ” SeguranÃ§a e Controle de Acesso

### **Block Public Access**

Impede acesso pÃºblico acidental:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Block Public Access        â”‚
â”‚ âœ“ Block all public ACLs    â”‚
â”‚ âœ“ Ignore all ACLs          â”‚
â”‚ âœ“ Block public bucket      â”‚
â”‚ âœ“ Block public CORS        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Versionamento**

Mantenha histÃ³rico de versÃµes:

```
documento.txt
â”œâ”€â”€ VersÃ£o 1: "OlÃ¡ mundo"
â”œâ”€â”€ VersÃ£o 2: "OlÃ¡ mundo!" (com !)
â””â”€â”€ VersÃ£o 3: "Hello world"

Pode restaurar qualquer versÃ£o anterior!
```

## ğŸ“Š ComparaÃ§Ã£o de classes

| Classe           | PreÃ§o | LatÃªncia | Caso de uso       |
| ---------------- | ----- | -------- | ----------------- |
| **Standard**     | $$$   | atÃ© 1ms  | AplicaÃ§Ãµes ativas |
| **Standard-IA**  | $$    | atÃ© 1ms  | Backups mensais   |
| **Glacier**      | $     | Horas    | Arquivo legal     |
| **Deep Archive** | $     | 12h      | Raro acesso       |

## ğŸ’° PreÃ§os aproximados (US)

```
Armazenamento:
â”œâ”€â”€ Standard: $0.023/GB/mÃªs
â”œâ”€â”€ Standard-IA: $0.0125/GB/mÃªs
â””â”€â”€ Glacier: $0.004/GB/mÃªs

RequisiÃ§Ãµes:
â”œâ”€â”€ PUT/GET: $0.0005 por 10.000 requisiÃ§Ãµes
â””â”€â”€ LIST: Baixa taxa

TransferÃªncia de dados:
â”œâ”€â”€ Para fora da AWS: $0.09/GB
â””â”€â”€ Dentro da AWS: GrÃ¡tis!
```

## ğŸš€ PrÃ³ximas liÃ§Ãµes

- [ALB](./alb)
- [NLB](./nlb)
- [GWLB](./gwlb)
